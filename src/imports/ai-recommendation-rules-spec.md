[목표]
이전에 정의한 “AI 추천/YouTube 검색어 생성 룰(카테고리→서브타입→칩3개)”을
Figma 파일 내부에 ‘적용 가능한 형태’로 구현한다.
즉, JSON 룰셋을 단순 텍스트로만 주지 말고:
1) 룰 스펙 문서(표/다이어그램/의사코드)
2) 컴포넌트(추천 카테고리 탭, 칩 3개, Why 바텀시트, 결과 리스트)
3) 시나리오별 예시 화면(20개)
4) 룰셋 JSON 코드 블록(복사 가능한 텍스트 프레임)
까지 한 번에 구성한다.

[필수 원칙]
- 의료행위(진단/치료/처방) 금지, 카피는 선별/점검/루틴/연계 톤 유지.
- “외부(YouTube)로 이동합니다.”는 결과 화면에 항상 표기.
- 사후는 ‘치료/장기관리’가 아니라 ‘연결(Referral) 지원’ 중심(컨디션노트 V2 원칙 준수).

====================================================
[새 페이지 생성]
====================================================
13_AI_Reco_RuleSpec_UI (룰 문서 + UI 연결)
14_AI_Reco_Scenarios_UI (시나리오 20개 화면)
15_AI_Reco_JSON (JSON 룰셋 코드블록 + 복사 안내)

====================================================
[1) 룰 스펙 문서 페이지(13_AI_Reco_RuleSpec_UI)]
====================================================
A. “룰 개요” 섹션(카드 3개)
- 입력(수면/활동/피로/스트레스/리듬) → 상태(좋음/보통/주의/알수없음) → 카테고리(수면루틴/명상/운동/식단) → 서브타입 → 칩3개
- 사용자에게 보이는 것은 ‘상태 칩’과 ‘왜 추천인지’ 1줄 뿐이며, 임상 점수/진단 없음

B. “카테고리 선택 우선순위” 표(간단)
1) 수면 또는 리듬이 ‘주의’ → 수면루틴
2) 스트레스 또는 피로가 ‘주의’ → 명상
3) 활동이 ‘주의’이고 피로가 ‘주의’가 아님 → 운동
4) 그 외 → 식단
+ (옵션) WARN이 하나도 없을 때만 목표 override(운동/명상) 허용

C. “서브타입 판정(if-else)” 표(카테고리별)
- SLEEP: S3(아침 리듬 리셋) → S4(낮 회복) → S2(끊김) → S1(저녁 준비) → S5(습관) → default
- MEDITATION: M3(저녁) → M2(피로) → M4(걷기) → M1(default)
- EXERCISE: E4(목표override) → E2(의자) → E3(저녁) → E1(아침) → default
- FOOD: F3(캠프식단 이어가기) → F4(주간계획) → F2(저녁) → F1(default)

D. “칩 3개 규칙” 카드
- Chip1=짧게(5~10분), Chip2=대안(의자/누워서/걷기), Chip3=조금 더(10~20분)
- 3개 칩은 서로 유사 검색어 반복 금지

E. UI 컴포넌트와 룰 연결 다이어그램
- CMP/Tab/RecoCategory
- CMP/Chip/Query(3개)
- CMP/BottomSheet/WhyReco(입력 상태 칩 5개 + why 1줄 + 칩3개 재노출)
- CMP/Card/YouTubeResult(리스트)

====================================================
[2) 컴포넌트 생성/강화(02_Components 페이지에도 추가)]
====================================================
- CMP/Tab/RecoCategory: 운동/명상/식단/수면루틴, 오늘 추천 배지 표시
- CMP/Chip/MetricState: “수면·주의” 등 5개(수면/활동/피로/스트레스/리듬)
- CMP/Chip/Query: 칩 3개(짧게/대안/조금 더 라벨 포함)
- CMP/BottomSheet/WhyReco: 상태칩 5개 + 비유 1줄 + 추천 카테고리 + 칩3개 + 고정 문구(진단 아님)
- CMP/Screen/QueryBuilder: 카테고리 탭 + 칩3개 + “왜 이 추천인가요?” 버튼 + “추천 옵션(길이/강도)” 최소 설정 바텀시트
- CMP/Screen/YouTubeResultList: 결과 8~12개, 로딩/오류/빈결과 상태 포함

====================================================
[3) 시나리오 20개 화면 생성(14_AI_Reco_Scenarios_UI)]
====================================================
각 시나리오는 “QueryBuilder 화면(추천 카테고리/칩3개/왜 버튼)”로 구성한다.
각 화면 상단에 Scenario ID를 크게 표기하고, 아래에 상태칩 5개를 배치한다.
각 시나리오마다:
- 추천 카테고리(배지)
- 서브타입명
- 칩3개(템플릿 문구 그대로)
- Why 1줄(비유 포함)
을 화면에서 바로 보이게 한다.

시나리오 20개는 아래 그대로 사용:
S01: 수면주의+피로주의+리듬주의+저녁 → 수면루틴 S1 → (수면-05/수면-03/수면-02)
S02: 수면주의+스트레스주의+저녁 → 수면루틴 S2 → (수면-22/수면-04/수면-01)
S03: 피로주의+스트레스주의+낮 → 명상 M2 → (명상-01/명상-05/명상-18)
S04: 스트레스주의+낮 → 명상 M1 → (명상-03/명상-08/명상-10)
S05: 활동주의+아침 → 운동 E1 → (운동-23/운동-07/운동-06)
S06: 활동주의+낮+의자선호 → 운동 E2 → (운동-02/운동-17/운동-19)
S07: 활동주의+스트레스주의+낮 → 명상 M4 → (명상-23/명상-20/명상-28)
S08: 리듬주의+아침 → 수면루틴 S3 → (수면-11/수면-10/수면-24)
S09: 리듬주의+스트레스주의+저녁 → 수면루틴 S1(칩2는 습관/환경) → (수면-08/수면-25/수면-02)  ※수면-25가 없으면 수면-29로 대체
S10: 수면주의+리듬주의+아침 → 수면루틴 S5 → (수면-11/수면-15/수면-08)
S11: 피로주의+낮 → 명상 M2 → (명상-38/명상-05/명상-18) ※명상-38이 없으면 명상-01로 대체
S12: 전반 안정+낮 → 식단 F1 → (식단-01/식단-06/식단-11)
S13: 전반 안정+저녁 → 식단 F2 → (식단-11/식단-12/식단-21)
S14: 주간계획 버튼 클릭+낮 → 식단 F4 → (식단-38/식단-39/식단-28)
S15: 전반 안정+목표override=운동 → 운동 E4 → (운동-16/운동-14/운동-13)
S16: 전반 안정+저녁+목표override=명상 → 명상 M3 → (명상-15/명상-16/명상-28) ※명상-15/16이 없으면 명상-06/10으로 대체
S17: 데이터 대부분 UNKNOWN+낮 → 명상 M1(안전 기본) → (명상-03/명상-01/명상-10)
S18: 수면주의+피로주의+낮 → 수면루틴 S4 → (수면-05/수면-14/수면-13)
S19: 활동주의+저녁 → 운동 E3 → (운동-38/운동-05/운동-27)
S20: 스트레스주의+저녁 → 명상 M3 → (명상-06/명상-11/명상-27)

각 시나리오는 프로토타입 연결:
Scenario 화면 → “왜 이 추천인가요?” → WhyReco BottomSheet
Scenario 화면 → 칩 탭 → YouTubeResultList 화면(외부 이동 문구 포함)

====================================================
[4) JSON 룰셋 코드 블록 페이지(15_AI_Reco_JSON)]
====================================================
15_AI_Reco_JSON 페이지에:
- 큰 제목: “AI 추천 룰셋(JSON) — 개발 복사용”
- 설명 3줄:
  1) category_rules → subtype_rules → bundles 순서로 평가
  2) first_match_wins, priority asc
  3) 임상 기준 아님(UX 휴리스틱), 튜닝 가능
- 그 아래 ‘코드 블록 형태’의 텍스트 프레임을 만들고,
  이전에 정의한 ruleset JSON 전체를 그대로 삽입한다(복사 가능).
- JSON이 길면 “category_rules / subtype_rules / bundles” 3개의 코드 블록으로 분할해 배치한다.

====================================================
[마지막 체크]
====================================================
- 모든 텍스트는 한국어, 고령친화 톤
- 진단/치료/처방 오해 문구 금지
- “외부(YouTube)로 이동합니다.”는 결과 리스트/영상 카드에 항상 표기
- 화면 과밀 금지: 한 화면 Primary CTA 1개 중심